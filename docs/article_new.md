# Простой статический сайт на webpack 4

Данная статья является документацией к проекту [static-site-webpack-habr](https://github.com/Harrix/static-site-webpack-habr). С помощью пакета webpack под Node.js и других пакетов, включая HTML шаблонизатор, создается набор HTML страниц, которые удобно использовать для тестирования HTML шаблонов или генерации простого статического сайта.

На Хабре находится старая версия [статьи](https://habr.com/ru/post/350886/). За это время некоторые подходы изменились, некоторые мои взгляды поменялись, пакеты обновились, некоторые пакеты устарели. Так что в данной статье представлен сильно переработанный вариант статического сайта на webpack.

## Постановка задачи

Сайт представляет собой простой набор HTML страниц со своим CSS стилями и файлом JavaScript. Необходимо написать проект, который бы собирал наш сайт из исходников:

- из SASS (точнее SCSS) файлов формируется один CSS файл;
- из различных JavaScript библиотек и пользовательского кода формируется один JavaScript файл;
- HTML страницы собираются с помощью шаблона, где содержимое шапки и футера можно разнести по отдельным файлам.

В собранном сайте не должны использоваться [React](https://reactjs.org/), [Vue.js](https://vuejs.org/), [Angular](https://angularjs.org/) и др. Причина заключается не в том, что я не люблю эти фреймворки, а хочу использовать универсальный подход без привязки к JavaScript фреймворку.

При выборе технологий выбираются по возможности наиболее популярные на данный момент. По этой причине отказался и от [Grunt](https://gruntjs.com/) и [Gulp](https://gulpjs.com/) в пользу webpack, хотя, если честно, синтаксис Gulp мне понравился больше своим однообразием.

Для примера будет сверстано несколько страничек на базе [Bootstrap 4](https://getbootstrap.com/). Но это только для примера.

Предполагается, что [Node.js](https://nodejs.org/) установлен (в Windows просто нужно скачать установщик и установить в стиле «далее, далее»), и вы умеете работать с командной строкой CLI.

Нужно получить набор готовых HTML страниц, которые можно залить на хостинг без дополнительных настроек (например, на [GitHub Pages](https://pages.github.com/)) или открыть локально на компьютере.

## Структура проекта

Общая структура проекта представлена ниже:

```text
.
├── dist                 - папка, куда будет собираться сайт
├─┬ src                  - папка с исходниками сайта
│ ├── favicon            - папка с файлами иконок для сайта
│ ├── fonts              - папка со шрифтами
│ ├─┬ html               - папка заготовок HTML страниц
│ │ ├── includes         - папка с встраиваемыми шаблонами (header, footer)
│ │ └── views            - папка с самими HTML страницами
│ ├── img                - папка с общими изображениями (логотип, иконки и др.)
│ ├── js                 - папка с JavaScript файлами
│ ├── scss               - папка с SСSS файлами
│ └── uploads            - папка с файлами статей (картинки, архивы и др.)
├── package.json         - файл настроек Node.js
└── webpack.config.js    - файл настроек webpack
```

Та же структура, но с показом файлов, которые присутствуют в примере:

```text
.
├── dist
├─┬ src
│ ├─┬ favicon
│ │ └── favicon.ico
│ ├─┬ fonts
│ │ └── Roboto-Regular.ttf
│ ├─┬ html
│ │ ├─┬ includes
│ │ │ ├── footer.html
│ │ │ └── header.html
│ │ └─┬ views
│ │   ├── index.html
│ │   └── second.html
│ ├─┬ img
│ │ └── logo.svg
│ ├─┬ js
│ │ └── index.js
│ ├─┬ scss
│ │ └── style.scss
│ └─┬ uploads
│   └── test.jpg
├── package.json
└── webpack.config.js
```